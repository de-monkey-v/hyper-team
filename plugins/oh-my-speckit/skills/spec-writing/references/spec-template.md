# Spec Template

스펙 문서 작성 시 사용하는 전체 템플릿.

## 템플릿

```markdown
# Spec: [Feature Name]

## 메타데이터
- **ID**: NNN-feature-name
- **Status**: Draft
- **Priority**: P1
- **Created**: YYYY-MM-DD

## 요청 이력

### 최초 요청
> [사용자가 처음 요청한 내용을 그대로 인용]
> -- YYYY-MM-DD

### 수정 이력
<!-- 수정 요청 시 아래 형식으로 추가 -->
<!-- 1. **YYYY-MM-DD HH:MM** - [수정 요약]
   > [수정 요청 내용] -->

## 개요
[한 문단 요약 - 이 기능이 무엇인지, 왜 필요한지]

## 아키텍처 컨텍스트

### 백엔드 (해당시)
- **패턴**: Clean Architecture / Layered / 기타
- **위치**: `src/domain/`, `src/application/` 등
- **기술 스택**: [사용 기술]

### 프론트엔드 (해당시)
- **패턴**: Feature-Sliced / 폴더 기반 / 기타
- **위치**: `src/features/`, `src/pages/` 등
- **기술 스택**: [사용 기술]

## 사용자 스토리
- **US1**: As a [user type], I want [goal] so that [benefit]
- **US2**: As a [user type], I want [goal] so that [benefit]
- **US3**: ...

## 기능 요구사항 (FR)

| ID | 설명 | AC (합격 기준) | 우선순위 | US |
|----|------|---------------|---------|-----|
| FR1 | [구체적인 기능 설명] | [이 FR이 충족되었다고 판단하는 구체적 조건] | P1 | US1 |
| FR2 | [구체적인 기능 설명] | [검증 가능한 합격 기준] | P1 | US1 |
| FR3 | [구체적인 기능 설명] | [검증 가능한 합격 기준] | P2 | US2 |

## 비기능 요구사항 (NFR)

| ID | 설명 | 기준 |
|----|------|------|
| NFR1 | 응답 시간 | < 200ms |
| NFR2 | 가용성 | 99.9% uptime |
| NFR3 | 보안 | HTTPS 필수 |

## 엣지 케이스

| ID | 상황 | 예상 동작 | 검증 방법 |
|----|------|----------|----------|
| EC1 | [경계 조건/예외 상황] | [시스템 응답] | [단위 테스트/수동 테스트/자동 검증] |
| EC2 | [경계 조건/예외 상황] | [시스템 응답] | [검증 방법] |

## 기술 결정 (Technical Decisions)

> specify 단계에서 결정된 기술적 선택사항. design 단계에서 자동 참조되어 중복 질문 방지.

| ID | 결정 항목 | 선택 | 근거 | 결정일 |
|----|----------|------|------|--------|
| TD-1 | [예: API 버전 전략] | [V2 신규 생성 / 기존 수정 / 하위 호환] | [이유] | YYYY-MM-DD |
<!-- specify 단계에서 결정된 항목 추가 -->

## 기술 스택

| 영역 | 기술 | 버전 |
|------|------|------|
| 런타임 | Node.js | 20+ |
| 프레임워크 | Next.js | 15+ |
| ORM | Prisma | 5+ |
| 데이터베이스 | PostgreSQL | 16+ |

## 제약 조건
- [기술적 제약]
- [비즈니스 제약]
- [시간/리소스 제약]

## 구현 범위 제한 (YAGNI)

### 이 스펙에서 구현할 것
- [핵심 기능 1]
- [핵심 기능 2]

### 이 스펙에서 구현하지 않을 것 ⚠️
- ❌ [미래에 필요할 수도 있는 기능]
- ❌ [과도한 추상화/패턴]
- ❌ [범위 밖 기능]

## 열린 질문
- [ ] [결정되지 않은 사항 1]
- [ ] [결정되지 않은 사항 2]

## 참고 자료
- [관련 문서 링크]
- [디자인 목업 링크]
```

## 섹션별 작성 가이드

### 메타데이터

| 필드 | 설명 |
|------|------|
| ID | `NNN-feature-name` 형식 (예: 001-auth, 002-cart) |
| Status | Draft → Review → Approved → Implemented |
| Priority | P1 (필수), P2 (중요), P3 (선택) |
| Created | 작성 날짜 (YYYY-MM-DD) |

### 요청 이력 작성법

요청 이력은 최초 요청과 이후 수정 요청을 추적합니다.

**최초 요청:**
- 사용자의 원문 요청을 그대로 인용
- 날짜 표기 (YYYY-MM-DD)

**수정 이력:**
- 수정 요청이 있을 때마다 번호+타임스탬프 형식으로 추가
- 형식: `N. **YYYY-MM-DD HH:MM** - [수정 요약]`
- 수정 요청 내용을 인용 블록으로 기록

**예시:**
```markdown
### 수정 이력
1. **2024-01-15 14:30** - 인증 방식 변경
   > JWT 대신 세션 기반 인증으로 변경해주세요
2. **2024-01-16 10:00** - 소셜 로그인 추가
   > Google 로그인도 지원해주세요
```

### 사용자 스토리 작성법

**좋은 예:**
- As a **registered user**, I want to **log in with email/password** so that **I can access my account**

**나쁜 예:**
- 로그인 기능 구현 (누가? 왜?)

### 기능 요구사항 작성법

**좋은 예:**
- FR1: 사용자가 이메일과 비밀번호를 입력하면 서버에서 인증을 수행한다
- FR2: 인증 성공 시 JWT 토큰을 발급한다

**나쁜 예:**
- 로그인 (너무 모호)
- 인증 시스템 (범위 불명확)

### AC(합격 기준) 작성법

**좋은 AC (검증 가능):**
- FR1 AC: "이메일/비밀번호 입력 후 로그인 버튼 클릭 시 200 응답과 JWT 토큰이 반환된다"
- FR2 AC: "잘못된 비밀번호 입력 시 401 응답과 에러 메시지가 반환된다"

**나쁜 AC (모호):**
- "로그인이 잘 동작한다" (기준 불명확)
- "적절한 응답을 반환한다" (무엇이 적절?)

**AC 작성 원칙:**
1. **구체적**: 입력 → 동작 → 기대 결과 형식
2. **검증 가능**: 코드 또는 테스트로 확인 가능
3. **독립적**: 다른 FR의 AC에 의존하지 않음
4. **FR당 1-3개**: 너무 많으면 FR을 분리

### 비기능 요구사항 작성법

**측정 가능한 기준 포함:**
- ✅ 응답 시간 < 200ms
- ✅ 동시 사용자 1000명 지원
- ❌ 빨라야 함 (측정 불가)

### 엣지 케이스 식별

고려할 상황:
- 빈 입력, null 값
- 경계값 (최소/최대)
- 동시 요청
- 네트워크 오류
- 권한 없는 접근
- 중복 요청

### 기술 결정 작성법

specify 단계에서 결정된 기술적 선택사항을 구조화된 테이블로 기록합니다.
**이 섹션은 design 단계에서 자동으로 파싱되어 중복 질문을 방지합니다.**

**결정 항목 예시:**

| 결정 항목 | 옵션 예시 | 결정 시점 |
|----------|----------|----------|
| API 버전 전략 | V2 신규 생성 / 기존 수정 / 하위 호환 | specify |
| 인증 방식 | JWT / 세션 / OAuth 2.0 | specify |
| 실시간 통신 | WebSocket / SSE / Polling | specify |
| 아키텍처 패턴 | DDD Full / DDD Lite / 기존 패턴 | design |
| 상태 관리 | Redux / Zustand / React Query | design |

**작성 규칙:**
- ID는 TD-N 형식 (TD-1, TD-2, ...)
- **선택**은 명확한 옵션 중 하나로 기록 (파싱 용이)
- **근거**는 왜 그 선택을 했는지 간략히 기록
- **결정일**은 YYYY-MM-DD 형식

**예시:**
```markdown
| TD-1 | API 버전 전략 | V2 신규 생성 | Breaking Change 방지, 점진적 마이그레이션 | 2026-01-28 |
| TD-2 | 인증 방식 | JWT | 마이크로서비스 확장성 | 2026-01-28 |
```
